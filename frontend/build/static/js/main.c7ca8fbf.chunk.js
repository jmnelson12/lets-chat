(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{12:function(e,r,t){"use strict";t.d(r,"d",function(){return c}),t.d(r,"c",function(){return i}),t.d(r,"a",function(){return l}),t.d(r,"b",function(){return m});var n=t(2),a=t.n(n),s=t(4),u=t(5),o=t.n(u),c=function(){var e=Object(s.a)(a.a.mark(function e(r){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={success:!1,message:"",payload:null},r){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,t.success=!0,e.next=7,o.a.get("/user/verify?token="+r);case 7:t.payload=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),t.success=!1,t.message="Error calling verifyToken api";case 14:return e.abrupt("return",Promise.resolve(t));case 15:case"end":return e.stop()}},e,null,[[3,10]])}));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=Object(s.a)(a.a.mark(function e(r){var t,n,s,u,c,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.firstName,n=r.lastName,s=r.email,u=r.password,c=r.password2,i={success:!1,message:"",payload:null},s||u||t||n){e.next=5;break}return i.message="Please enter your information in the fields below",e.abrupt("return",Promise.resolve(i));case 5:if(s){e.next=8;break}return i.message="Please enter your email",e.abrupt("return",Promise.resolve(i));case 8:if(u){e.next=11;break}return i.message="Please enter your password",e.abrupt("return",Promise.resolve(i));case 11:if(c&&u===c){e.next=14;break}return i.message="Passwords must match",e.abrupt("return",Promise.resolve(i));case 14:if(t){e.next=17;break}return i.message="Please enter your first name",e.abrupt("return",Promise.resolve(i));case 17:if(n){e.next=20;break}return i.message="Please enter your last name",e.abrupt("return",Promise.resolve(i));case 20:return e.prev=20,e.next=23,o.a.post("/user/signup",{firstName:t,lastName:n,email:s,password:u,password2:c});case 23:i.payload=e.sent,i.success=!0,i.message="Success",e.next=33;break;case 28:e.prev=28,e.t0=e.catch(20),i.success=!1,i.message="Error calling signup api",i.payload=null;case 33:return e.abrupt("return",Promise.resolve(i));case 34:case"end":return e.stop()}},e,null,[[20,28]])}));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(a.a.mark(function e(r){var t,n,s,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.email,s=r.password,u={success:!1,message:"",payload:null},n||s){e.next=5;break}return u.message="Please enter your email and password",e.abrupt("return",Promise.resolve(u));case 5:if(n){e.next=8;break}return u.message="Please enter your email",e.abrupt("return",Promise.resolve(u));case 8:if(s){e.next=11;break}return u.message="Please enter your password",e.abrupt("return",Promise.resolve(u));case 11:return e.prev=11,e.next=14,o.a.post("/user/login",{email:n,password:s});case 14:return t=e.sent,u.success=!0,u.message="Success",u.payload=t,e.abrupt("return",Promise.resolve(u));case 21:return e.prev=21,e.t0=e.catch(11),u.success=!1,u.message="Error calling login api",u.payload=null,e.abrupt("return",Promise.resolve(u));case 27:case"end":return e.stop()}},e,null,[[11,21]])}));return function(r){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(a.a.mark(function e(r){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={success:!1,message:"",payload:null},r){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,t.success=!0,e.next=7,o.a.get("/user/logout?token="+r);case 7:t.payload=e.sent,window.location.reload(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t.success=!1,t.message="Error calling logout api";case 15:return e.abrupt("return",Promise.resolve(t));case 16:case"end":return e.stop()}},e,null,[[3,11]])}));return function(r){return e.apply(this,arguments)}}()},22:function(e,r,t){e.exports=t(50)},27:function(e,r,t){},50:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),s=t(19),u=t.n(s),o=t(7),c=t(8),i=t(10),l=t(9),m=t(11),p=t(3);t(27);var d=t(12),f=a.a.lazy(function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,114))}),g=a.a.lazy(function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,115))}),b=a.a.lazy(function(){return Promise.all([t.e(5),t.e(4)]).then(t.bind(null,116))}),h=function(e){function r(e){var t;return Object(o.a)(this,r),(t=Object(i.a)(this,Object(l.a)(r).call(this,e))).state={token:"",isLoading:!0,userLogin:!0,message:""},t.handleAuthSwitch=t.handleAuthSwitch.bind(Object(p.a)(Object(p.a)(t))),t.setToken=t.setToken.bind(Object(p.a)(Object(p.a)(t))),t}return Object(m.a)(r,e),Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this,r=function(e){if(!e)return null;try{var r=localStorage.getItem(e);return r?JSON.parse(r):null}catch(t){return null}}("fancyMeetingYouHere");if(r&&r.token){var t=r.token;Object(d.d)(t).then(function(r){r?r.payload.data.success?e.setState({isLoading:!1,token:t}):e.setState({isLoading:!1}):e.setState({isLoading:!1})})}else this.setState({isLoading:!1})}},{key:"handleAuthSwitch",value:function(e){this.setState({userLogin:!this.state.userLogin,message:e})}},{key:"setToken",value:function(e){!function(e,r){e||console.error("setInStorage(key, obj) -> key is missing");try{localStorage.setItem(e,JSON.stringify(r))}catch(t){console.error(t)}}("fancyMeetingYouHere",{token:e}),this.setState({token:e})}},{key:"render",value:function(){var e=this.state,r=e.isLoading,t=e.token,s=e.userLogin,u=e.message;return r?a.a.createElement("div",{className:"le-loader"},"Setting things up..."):t?a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(b,{loginToken:t,removeToken:function(){return function(e){e||console.error("removeFromStorage(key) -> key is missing");try{localStorage.removeItem(e)}catch(r){console.error(r)}}("fancyMeetingYouHere")}})):a.a.createElement("div",{className:"user-auth-holder"},a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement("div",{className:"user-login-message"},u||""),s?a.a.createElement(f,{switchAuth:this.handleAuthSwitch,setUserToken:this.setToken}):a.a.createElement(g,{switchAuth:this.handleAuthSwitch})))}}]),r}(n.Component);u.a.render(a.a.createElement(h,null),document.getElementById("root"))}},[[22,7,6]]]);
//# sourceMappingURL=main.c7ca8fbf.chunk.js.map